---
import Layout from "../../layout/Layout.astro";

export const prerender = false;
const { id } = Astro.params;

const personne = await Astro.locals.pb.collection("personne").getOne(id);
---

<Layout title={personne.prenom + " " + personne.nom}>
  <h1>{personne.prenom} {personne.nom}</h1>
  {
    Astro.locals.pb.authStore.record &&
    Astro.locals.pb.authStore.record.id === personne.user ? (
      <a href={`/personnes/edit/${id}`}>Modifier cette personne</a>
    ) : (
      ""
    )
  }
</Layout>
